<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>BRICHBUY - Buscador de Productos</title>
</head>
<body>
  <h1>Bienvenido a BRICHBUY</h1>
  <p>Importamos y enviamos cualquier producto desde China, EE.UU. y más.</p>

  <h2>Busca tu producto</h2>
  <input type="text" id="busqueda" placeholder="Escribe aquí... (ej. nike cortez)">
  <button onclick="buscar()">Buscar</button>

  <h3>Resultados:</h3>
  <div id="resultados">Aquí aparecerán los productos...</div>

  <script>
    async function buscar() {
      const texto = document.getElementById('busqueda').value;
      const chino = encodeURIComponent(texto); // traducción manual después
      const apiKey = '5d91a58517074d7aa379a0c43f7c0325ac00c919004b35f99036784885881ee9'; // ⬅️ pega tu clave de SerpApi aquí
      const url = `https://serpapi.com/search.json?engine=google_shopping&q=${chino}&api_key=${apiKey}&hl=en&tbm=shop`;
      document.getElementById('resultados').innerHTML = 'Buscando...';

      try {
        const res = await fetch(url);
        const data = await res.json();
        const items = data.shopping_results || [];

        let html = '';
        items.slice(0, 5).forEach(item => {
          html += `
            <div style="border:1px solid #ccc; margin:10px; padding:10px;">
              <img src="${item.thumbnail}" width="100"><br>
              <strong>${item.title}</strong><br>
              Precio: ${item.price}<br>
              <a href="${item.link}" target="_blank">Ver producto</a>
            </div>
          `;
        });

        document.getElementById('resultados').innerHTML = html || 'No se encontraron productos.';
      } catch (err) {
        document.getElementById('resultados').innerText = 'Error al buscar. Inténtalo de nuevo.';
      }
    }
  </script>
</body>
</html>
